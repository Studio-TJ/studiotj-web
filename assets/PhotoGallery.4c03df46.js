import{Q as z}from"./QImg.8172d54d.js";import{W as y}from"./WebHelper.5df25221.js";import{D as f,a as p}from"./DomHelper.9b149b0b.js";import{_ as M,E as j,G as n,I as s,J as O,r as d,a1 as A,o as D,U as C,$ as w,a0 as N,R as F,N as P,L as V}from"./index.d31ab49f.js";import"./QSpinner.cf4dfba6.js";const H=j({__name:"LightBox",props:{url:String},setup(v){const g=v;return(a,l)=>(n(),s("div",null,[O(z,{id:"img",loading:"lazy",fit:"scale-down",src:g.url,alt:"Img",onClick:l[0]||(l[0]=b=>a.$emit("closeLightbox"))},null,8,["src"])]))}});var Q=M(H,[["__scopeId","data-v-700ce743"]]);const W={class:"row justify-center"},J={class:"customRow col-xs-12 col-sm-10"},q={key:0,id:"lightbox"},K=j({__name:"PhotoGallery",props:{genre:String},setup(v){const g=v,a=d({}),l="img/genre/"+g.genre,b="_"+f.getScreenSizeType(),u=d([]),c=d(p.MEDIUM),x=d(!1),_=d("");let I=[];A(()=>{window.addEventListener("resize",()=>{R()})}),D(()=>{y.getFileList(l).then(i=>{a.value=i}).then(()=>{c.value=f.getScreenSizeType(),L(!0)})});function L(i){const o=c.value===p.SMALL||c.value===p.MEDIUM?2:3,r=Object.keys(a.value).length,m=Math.floor(r/o);let e=r%o,h=[];if(i){for(let t=0;t<r;t++)h.push(t);I=h.sort(()=>.5-Math.random())}const T=[...I];u.value=[];for(let t=0;t<o;t++){const U=e>0?m+1:m;u.value[t]===void 0&&(u.value[t]=[]);for(let S=0;S<U;S++){const k=T.pop(),B=a.value[Object.keys(a.value)[k]],$={fileName:Object.keys(a.value)[k],ext:B.ext,variant:B.variant};u.value[t].push($)}e>0&&(e-=1)}}function R(){c.value!=f.getScreenSizeType()&&(c.value=f.getScreenSizeType(),L(!1))}function E(i,o){_.value=y.getImageUrl(l,i+"_"+p.LARGE+o),x.value=!0}function G(){_.value="",x.value=!1}return(i,o)=>(n(),s(w,null,[C("div",W,[C("div",J,[(n(!0),s(w,null,N(u.value,(r,m)=>(n(),s("div",{key:m,class:"customColumn left-right-padding"},[(n(!0),s(w,null,N(r,e=>(n(),P(z,{id:"img",loading:"lazy",fit:"scale-down",key:e.fileName,src:V(y).getImageUrl(l,e.fileName+b+e.ext),alt:e.fileName,onClick:h=>E(e.fileName,e.ext)},null,8,["src","alt","onClick"]))),128))]))),128))])]),x.value?(n(),s("div",q,[O(Q,{url:_.value,onCloseLightbox:o[0]||(o[0]=r=>G())},null,8,["url"])])):F("",!0)],64))}});var oe=M(K,[["__scopeId","data-v-373f07f8"]]);export{oe as default};
