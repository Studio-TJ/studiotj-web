import{Q as z}from"./QImg.775e92c0.js";import{W as y}from"./WebHelper.5df25221.js";import{D as p,a as v}from"./DomHelper.9b149b0b.js";import{_ as M,E as j,G as n,I as r,J as O,r as d,a1 as A,o as D,S as C,$ as b,a0 as N,R as F,N as P,L as V}from"./index.c58a2b7d.js";import"./QSpinner.53e73e24.js";const q=j({__name:"LightBox",props:{url:String},setup(f){const g=f;return(a,l)=>(n(),r("div",null,[O(z,{id:"img",loading:"lazy",fit:"scale-down",src:g.url,alt:"Img",onClick:l[0]||(l[0]=w=>a.$emit("closeLightbox"))},null,8,["src"])]))}});var H=M(q,[["__scopeId","data-v-700ce743"]]);const Q={class:"row justify-center"},W={class:"customRow col-xs-12 col-sm-10"},J={key:0,id:"lightbox"},K=j({__name:"PhotoGallery",props:{genre:String},setup(f){const g=f,a=d({}),l="img/genre/"+g.genre,w="_"+p.getScreenSizeType(),u=d([]),c=d(v.MEDIUM),x=d(!1),_=d("");let S=[];A(()=>{window.addEventListener("resize",()=>{R()})}),D(()=>{y.getFileList(l).then(s=>{a.value=s}).then(()=>{c.value=p.getScreenSizeType(),I(!0)})});function I(s){const o=c.value===v.SMALL||c.value===v.MEDIUM?2:3,i=Object.keys(a.value).length,m=Math.floor(i/o);let e=i%o,h=[];if(s){for(let t=0;t<i;t++)h.push(t);S=h.sort(()=>.5-Math.random())}const T=[...S];u.value=[];for(let t=0;t<o;t++){const $=e>0?m+1:m;u.value[t]===void 0&&(u.value[t]=[]);for(let L=0;L<$;L++){const k=T.pop(),B=a.value[Object.keys(a.value)[k]],U={fileName:Object.keys(a.value)[k],ext:B.ext,variant:B.variant};u.value[t].push(U)}e>0&&(e-=1)}}function R(){c.value!=p.getScreenSizeType()&&(c.value=p.getScreenSizeType(),I(!1))}function E(s,o){_.value=y.getImageUrl(l,s+"_"+v.LARGE+o),x.value=!0}function G(){_.value="",x.value=!1}return(s,o)=>(n(),r(b,null,[C("div",Q,[C("div",W,[(n(!0),r(b,null,N(u.value,(i,m)=>(n(),r("div",{key:m,class:"customColumn q-px-sm-sm q-px-xs-xl"},[(n(!0),r(b,null,N(i,e=>(n(),P(z,{id:"img",loading:"lazy",fit:"scale-down",key:e.fileName,src:V(y).getImageUrl(l,e.fileName+w+e.ext),alt:e.fileName,onClick:h=>E(e.fileName,e.ext)},null,8,["src","alt","onClick"]))),128))]))),128))])]),x.value?(n(),r("div",J,[O(H,{url:_.value,onCloseLightbox:o[0]||(o[0]=i=>G())},null,8,["url"])])):F("",!0)],64))}});var oe=M(K,[["__scopeId","data-v-1863917b"]]);export{oe as default};
